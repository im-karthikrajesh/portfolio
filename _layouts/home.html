<!doctype html>
<html lang="{{ site.lang | default: 'en' }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>{{ page.title | default: site.title }}</title>

  {% seo %}
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  <link rel="icon" href="{{ site.logo | relative_url }}">

  <!-- Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Karthik Rajesh",
    "url": "{{ site.url }}{{ site.baseurl }}",
    "email": "mailto:{{ site.author.email }}",
    "sameAs": ["{{ site.author.github }}", "{{ site.author.linkedin }}"]
  }
  </script>

  <!-- Kill any theme header/footer if CSS loads late -->
  <style>
    .page-header, .project-name, .project-tagline, .site-header,
    header[role="banner"], header.page-header,
    footer.site-footer, footer[role="contentinfo"] { display:none !important; }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="shell">
      <!-- LEFT RAIL (sticky): headshot above name + brief + links -->
      <aside class="left-rail">
        <div class="hero">
          <img class="headshot"
               src="{{ site.logo | relative_url }}"
               alt="Headshot of {{ site.title }}"
               width="160" height="160"
               decoding="async" fetchpriority="high" />

          <div class="hero-text">
            <h1>{{ site.title }}</h1>
            <p class="tagline">{{ site.description }}</p>

            <p class="links">
              <a href="{{ site.author.github }}" target="_blank" rel="noopener">
                <!-- GitHub icon -->
                <svg class="ico" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" d="M8 .2a8 8 0 0 0-2.53 15.59c.4.07.55-.17.55-.38v-1.33c-2.24.49-2.71-1.08-2.71-1.08-.37-.95-.91-1.2-.91-1.2-.74-.51.06-.5.06-.5.82.06 1.25.85 1.25.85.73 1.25 1.92.89 2.39.68.07-.53.29-.89.52-1.1-1.79-.2-3.68-.9-3.68-4a3.14 3.14 0 0 1 .84-2.18 2.9 2.9 0 0 1 .08-2.16s.68-.22 2.23.84a7.7 7.7 0 0 1 4.06 0c1.55-1.06 2.23-.84 2.23-.84.3.7.32 1.5.08 2.16a3.14 3.14 0 0 1 .84 2.18c0 3.11-1.9 3.79-3.71 4 .3.26.56.78.56 1.58v2.34c0 .21.14.46.55.38A8 8 0 0 0 8 .2Z"/></svg>
                GitHub
              </a>
              <a href="{{ site.author.linkedin }}" target="_blank" rel="noopener">
                <!-- LinkedIn icon -->
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M20.45 20.45h-3.55v-5.57c0-1.33-.02-3.03-1.85-3.03-1.85 0-2.13 1.45-2.13 2.95v5.65H9.37V9h3.4v1.56h.05c.47-.9 1.63-1.85 3.35-1.85 3.59 0 4.25 2.36 4.25 5.43v6.31ZM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12ZM3.56 20.45h3.56V9H3.56v11.45Z"/></svg>
                LinkedIn
              </a>
              <a href="mailto:{{ site.author.email }}">
                <!-- Email icon -->
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 4.12-8 5.33L4 8.12V6l8 5.33L20 6v2.12Z"/></svg>
                Email
              </a>
            </p>

            <p class="open-to">
              Open to: <strong>SDE (ML)</strong>, <strong>ML Engineer</strong>,
              <strong>Data Scientist/Engineer</strong>, <strong>IT Business Analyst</strong>
            </p>
          </div>
        </div>
      </aside>

      <!-- RIGHT: top nav + content -->
      <main id="main-content" class="content">
        <nav class="nav">
          <a href="#projects">Projects</a>
          <a href="#experience">Experience</a>
          <a href="#education">Education</a>
          <a href="#contact">Contact</a>

          <button id="theme-toggle" class="theme-toggle" type="button"
                  aria-live="polite" aria-label="Toggle dark or light theme">
            <span class="icon icon-sun" aria-hidden="true">‚òÄÔ∏è</span>
            <span class="icon icon-moon" aria-hidden="true">üåô</span>
            <span class="sr-only">Toggle theme</span>
          </button>
        </nav>

        {{ content }}

        <hr class="footnote" />
        <p class="tiny">¬© {{ site.time | date: "%Y" }} {{ site.title }} ‚Ä¢ Built with GitHub Pages (Jekyll)</p>
      </main>
    </div>
  </div>

  <!-- Theme script -->
  <script>
  (function () {
    const KEY = 'theme';
    const root = document.documentElement;
    const saved = localStorage.getItem(KEY);
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const initial = saved || (prefersDark ? 'dark' : 'light');
    root.setAttribute('data-theme', initial);

    window.addEventListener('DOMContentLoaded', function () {
      const btn = document.getElementById('theme-toggle');
      if (!btn) return;
      btn.addEventListener('click', function () {
        const current = root.getAttribute('data-theme') || (prefersDark ? 'dark' : 'light');
        const next = current === 'dark' ? 'light' : 'dark';
        root.setAttribute('data-theme', next);
        try { localStorage.setItem(KEY, next); } catch(e) {}
        btn.setAttribute('aria-label', next === 'dark' ? 'Switch to light theme' : 'Switch to dark theme');
      });
    }, { once: true });
  })();
  </script>
</body>
</html>
